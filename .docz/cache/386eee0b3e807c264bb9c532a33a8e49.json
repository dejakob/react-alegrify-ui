{"remainingRequest":"/Users/jakobkerkhove/alegrify/react-alegrify-ui/node_modules/docz-core/node_modules/babel-loader/lib/index.js?{\"presets\":[\"@babel/preset-env\",\"@babel/preset-react\",[\"/Users/jakobkerkhove/alegrify/react-alegrify-ui/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[[\"/Users/jakobkerkhove/alegrify/react-alegrify-ui/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}]],\"babelrc\":false,\"cacheCompression\":true,\"compact\":true}!/Users/jakobkerkhove/alegrify/react-alegrify-ui/lib/dropdown.js","dependencies":[{"path":"/Users/jakobkerkhove/alegrify/react-alegrify-ui/lib/dropdown.js","mtime":1541938375579},{"path":"/Users/jakobkerkhove/alegrify/react-alegrify-ui/node_modules/cache-loader/dist/cjs.js","mtime":1551899788855},{"path":"/Users/jakobkerkhove/alegrify/react-alegrify-ui/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1551376331885}],"contextDependencies":[],"result":["function _typeof(obj){if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)===\"object\"||typeof call===\"function\")){return call;}return _assertThisInitialized(self);}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function\");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}import React,{Component}from'react';import ReactDom from'react-dom';var KEY_CODES={UP:38,DOWN:40,ENTER:13,ESCAPE:27,TAB:9};/**\n * ```jsx\n * <Dropdown>\n *      <DropdownItem\n *          value=\"cookies\"\n *      >\n *          Cookies\n *      </DropdownItem>\n *      <DropdownItem\n *          value=\"apples\"\n *      >\n *          Apples\n *      </DropdownItem>\n * </Dropdown>\n * ```\n */var Dropdown=/*#__PURE__*/function(_Component){_inherits(Dropdown,_Component);function Dropdown(){var _this;_classCallCheck(this,Dropdown);_this=_possibleConstructorReturn(this,_getPrototypeOf(Dropdown).call(this));_this.changeSelectedIndex=_this.changeSelectedIndex.bind(_assertThisInitialized(_this));_this.handleBodyClick=_this.handleBodyClick.bind(_assertThisInitialized(_this));_this.actions={handleSelectOption:_this.handleSelectOption.bind(_assertThisInitialized(_this)),handleOpenDropdown:_this.handleOpenDropdown.bind(_assertThisInitialized(_this)),handleKeyDown:_this.handleKeyDown.bind(_assertThisInitialized(_this))};return _this;}_createClass(Dropdown,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;var childrenAsArray=typeof this.props.children.map==='function'?this.props.children:React.Children.toArray(this.props.children);var value=childrenAsArray.find(function(child){return _this2.props.value===child.props.value;});this.setState({value:value||null,open:false});if(typeof window!=='undefined'){document.body.addEventListener('click',this.handleBodyClick);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(typeof window!=='undefined'){document.body.removeEventListener('click',this.handleBodyClick);}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(newProps){if(newProps.value!==this.state.value&&newProps.value!==this.props.value){var childrenAsArray=typeof newProps.children.map==='function'?newProps.children:React.Children.toArray(newProps.children);var value=childrenAsArray.find(function(child){return newProps.value===child.props.value;});this.setState({value:value||null});}}},{key:\"componentWillUpdate\",value:function componentWillUpdate(newProps,newState){if((newState.value&&newState.value.props.value)!==(this.state.value&&this.state.value.props.value)){if(typeof this.props.onValueChange==='function'&&newState.value){this.props.onValueChange(newState.value.props.value);}}}},{key:\"handleSelectOption\",value:function handleSelectOption(index){var childrenAsArray=typeof this.props.children.map==='function'?this.props.children:React.Children.toArray(this.props.children);this.setState({value:childrenAsArray[index],open:false});}},{key:\"handleKeyDown\",value:function handleKeyDown(eventData){var keyCode=eventData.keyCode;switch(keyCode){case KEY_CODES.UP:eventData.preventDefault();this.changeSelectedIndex(-1);break;case KEY_CODES.DOWN:eventData.preventDefault();this.changeSelectedIndex(1);break;case KEY_CODES.ENTER:eventData.preventDefault();this.setState({open:!this.state.open});break;case KEY_CODES.ESCAPE:eventData.preventDefault();this.setState({open:false});break;default:var query=String.fromCharCode(eventData.which||eventData.charCode);var childrenAsArray=typeof this.props.children.map==='function'?this.props.children:React.Children.toArray(this.props.children);var index=Math.max(childrenAsArray.findIndex(function(child){return child.props.value.toLowerCase().indexOf(query.toLowerCase())>-1;}),0);this.setState({value:childrenAsArray[index]});}}},{key:\"handleOpenDropdown\",value:function handleOpenDropdown(eventData){this.setState({open:eventData.target.checked});}},{key:\"changeSelectedIndex\",value:function changeSelectedIndex(increment){var _this3=this;var childrenAsArray=typeof this.props.children.map==='function'?this.props.children:React.Children.toArray(this.props.children);var currentIndex=Math.max(childrenAsArray.findIndex(function(child){return _this3.state.value&&_this3.state.value.props.value===child.props.value;}),0);var newIndex=(currentIndex+childrenAsArray.length+increment)%childrenAsArray.length;this.setState({value:childrenAsArray[newIndex]});}},{key:\"handleBodyClick\",value:function handleBodyClick(eventData){var target=eventData.target;var node=target;while(node!==document.body&&node!==ReactDom.findDOMNode(this)){node=node.parentNode;}if(node===document.body){this.setState({open:false});}}},{key:\"render\",value:function render(){return DropdownView(Object.assign({},this.props,this.state,this.actions));}}]);return Dropdown;}(Component);/**\n * View for Dropdown\n */function DropdownView(props){var classNames=['alegrify-dropdown__container'];var value=props.value;if(typeof props.className==='string'&&props.className.trim()!==''){classNames.push(props.className);}if(props.disabled){classNames.push('alegrify-dropdown--disabled');}return React.createElement(\"div\",{className:classNames.join(' '),onKeyDown:props.handleKeyDown},React.createElement(\"input\",{className:\"alegrify-dropdown__trigger\",type:\"checkbox\",id:props.id,onChange:props.handleOpenDropdown,checked:props.open,disabled:props.disabled}),React.createElement(\"label\",{className:\"alegrify-dropdown__label\",htmlFor:props.id,\"aria-controls\":\"\"},value?value.props.children:props.placeholder||'...'),React.createElement(\"fieldset\",{className:\"alegrify-dropdown\",role:\"menu\"},renderChildren()));/**\n     * Render dropdown items\n     * (Can either be an array of children or React.children)\n     */function renderChildren(){if(!props.open){return null;}if(typeof props.children.map==='function'){return props.children.map(renderChild);}else{return React.Children.map(props.children,renderChild);}}/**\n     * Render single child\n     * @param {Node} child \n     * @param {String} index \n     */function renderChild(child){var index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return React.cloneElement(child,{onSelect:function onSelect(){return props.handleSelectOption(index);},multiSelect:props.multiSelect,checked:props.value&&props.value.props.value===child.props.value,name:props.name,key:index});}}// Todo: disabled\nDropdown.defaultProps={value:null,placeholder:'...',disabled:false,multiSelect:false};Dropdown.propExamples=Dropdown.defaultProps;export default Dropdown;Dropdown.__docgenInfo={\"description\":\"```jsx\\n<Dropdown>\\n     <DropdownItem\\n         value=\\\"cookies\\\"\\n     >\\n         Cookies\\n     </DropdownItem>\\n     <DropdownItem\\n         value=\\\"apples\\\"\\n     >\\n         Apples\\n     </DropdownItem>\\n</Dropdown>\\n```\",\"methods\":[{\"name\":\"handleSelectOption\",\"docblock\":null,\"modifiers\":[],\"params\":[{\"name\":\"index\",\"type\":null}],\"returns\":null},{\"name\":\"handleKeyDown\",\"docblock\":null,\"modifiers\":[],\"params\":[{\"name\":\"eventData\",\"type\":null}],\"returns\":null},{\"name\":\"handleOpenDropdown\",\"docblock\":null,\"modifiers\":[],\"params\":[{\"name\":\"eventData\",\"type\":null}],\"returns\":null},{\"name\":\"changeSelectedIndex\",\"docblock\":null,\"modifiers\":[],\"params\":[{\"name\":\"increment\",\"type\":null}],\"returns\":null},{\"name\":\"handleBodyClick\",\"docblock\":null,\"modifiers\":[],\"params\":[{\"name\":\"eventData\",\"type\":null}],\"returns\":null}],\"displayName\":\"Dropdown\",\"props\":{\"value\":{\"defaultValue\":{\"value\":\"null\",\"computed\":false},\"type\":{\"name\":\"string\"},\"required\":false,\"description\":\"Selected value of the dropdown\"},\"placeholder\":{\"defaultValue\":{\"value\":\"'...'\",\"computed\":false},\"type\":{\"name\":\"string\"},\"required\":false,\"description\":\"Placeholder message for dropdown label\"},\"disabled\":{\"defaultValue\":{\"value\":\"false\",\"computed\":false},\"type\":{\"name\":\"bool\"},\"required\":false,\"description\":\"Should the dropdown be disabled?\"},\"multiSelect\":{\"defaultValue\":{\"value\":\"false\",\"computed\":false},\"required\":false},\"id\":{\"type\":{\"name\":\"string\"},\"required\":true,\"description\":\"Id of the dropdown\"},\"name\":{\"type\":{\"name\":\"string\"},\"required\":true,\"description\":\"Name of the dropdown\"},\"children\":{\"type\":{\"name\":\"union\",\"value\":[{\"name\":\"arrayOf\",\"value\":{\"name\":\"node\"}},{\"name\":\"node\"}]},\"required\":true,\"description\":\"Items for the dropdown\"},\"className\":{\"type\":{\"name\":\"string\"},\"required\":false,\"description\":\"Additional classnames\"},\"onValueChange\":{\"type\":{\"name\":\"func\"},\"required\":false,\"description\":\"Gets triggered when value changes\\nPasses value string as argument\"}}};",{"version":3,"sources":["/Users/jakobkerkhove/alegrify/react-alegrify-ui/lib/dropdown.js"],"names":["React","Component","ReactDom","KEY_CODES","UP","DOWN","ENTER","ESCAPE","TAB","Dropdown","changeSelectedIndex","bind","handleBodyClick","actions","handleSelectOption","handleOpenDropdown","handleKeyDown","childrenAsArray","props","children","map","Children","toArray","value","find","child","setState","open","window","document","body","addEventListener","removeEventListener","newProps","state","newState","onValueChange","index","eventData","keyCode","preventDefault","query","String","fromCharCode","which","charCode","Math","max","findIndex","toLowerCase","indexOf","target","checked","increment","currentIndex","newIndex","length","node","findDOMNode","parentNode","DropdownView","Object","assign","classNames","className","trim","push","disabled","join","id","placeholder","renderChildren","renderChild","cloneElement","onSelect","multiSelect","name","key","defaultProps","propExamples"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDom from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst KEY_CODES = {\n    UP: 38,\n    DOWN: 40,\n    ENTER: 13,\n    ESCAPE: 27,\n    TAB: 9\n};\n\n/**\n * ```jsx\n * <Dropdown>\n *      <DropdownItem\n *          value=\"cookies\"\n *      >\n *          Cookies\n *      </DropdownItem>\n *      <DropdownItem\n *          value=\"apples\"\n *      >\n *          Apples\n *      </DropdownItem>\n * </Dropdown>\n * ```\n */\nclass Dropdown extends Component {\n    constructor() {\n        super();\n\n        this.changeSelectedIndex = this.changeSelectedIndex.bind(this);\n        this.handleBodyClick = this.handleBodyClick.bind(this);\n\n        this.actions = {\n            handleSelectOption: this.handleSelectOption.bind(this),\n            handleOpenDropdown: this.handleOpenDropdown.bind(this),\n            handleKeyDown: this.handleKeyDown.bind(this)\n        };\n    }\n\n    componentWillMount() {\n        const childrenAsArray = typeof this.props.children.map === 'function' ?\n            this.props.children :\n            React.Children.toArray(this.props.children);\n\n        const value = childrenAsArray.find(child => \n            this.props.value === child.props.value\n        );\n\n        this.setState({\n            value: value || null,\n            open: false\n        });\n\n        if (typeof window !== 'undefined') {\n            document.body.addEventListener('click', this.handleBodyClick);\n        }\n    }\n\n    componentWillUnmount() {\n        if (typeof window !== 'undefined') {\n            document.body.removeEventListener('click', this.handleBodyClick);\n        }\n    }\n\n    componentWillReceiveProps(newProps) {\n        if (\n            newProps.value !== this.state.value &&\n            newProps.value !== this.props.value\n        ) {\n            const childrenAsArray = typeof newProps.children.map === 'function' ?\n                newProps.children :\n                React.Children.toArray(newProps.children);\n\n            const value = childrenAsArray.find(child => \n                newProps.value === child.props.value\n            );\n\n            this.setState({\n                value: value || null\n            });\n        }\n    }\n\n    componentWillUpdate(newProps, newState) {\n        if (\n            (newState.value && newState.value.props.value) !== (this.state.value && this.state.value.props.value)\n        ) {\n            if (typeof this.props.onValueChange === 'function' && newState.value) {\n                this.props.onValueChange(newState.value.props.value);\n            }\n        }\n    }\n\n    handleSelectOption(index) {\n        const childrenAsArray = typeof this.props.children.map === 'function' ?\n            this.props.children :\n            React.Children.toArray(this.props.children);\n\n        this.setState({\n            value: childrenAsArray[index],\n            open: false\n        });\n    }\n\n    handleKeyDown(eventData) {\n        const { keyCode } = eventData;\n\n        switch (keyCode) {\n            case KEY_CODES.UP:\n                eventData.preventDefault();\n                this.changeSelectedIndex(-1);\n            break;\n\n            case KEY_CODES.DOWN:\n                eventData.preventDefault();\n                this.changeSelectedIndex(1);\n            break;\n\n            case KEY_CODES.ENTER:\n                eventData.preventDefault();\n                this.setState({ open: !this.state.open });\n            break;\n\n            case KEY_CODES.ESCAPE:\n                eventData.preventDefault();\n                this.setState({ open: false });\n            break;\n\n            default:\n                const query = String.fromCharCode(eventData.which || eventData.charCode);\n                const childrenAsArray = typeof this.props.children.map === 'function' ?\n                    this.props.children :\n                    React.Children.toArray(this.props.children);\n                const index = Math.max(childrenAsArray.findIndex(child =>\n                    child.props.value.toLowerCase().indexOf(query.toLowerCase()) > -1\n                ), 0);\n\n                this.setState({\n                    value: childrenAsArray[index]\n                });\n        }\n    }\n\n    handleOpenDropdown(eventData) {\n        this.setState({ open: eventData.target.checked });\n    }\n\n    changeSelectedIndex(increment) {\n        const childrenAsArray = typeof this.props.children.map === 'function' ?\n            this.props.children :\n            React.Children.toArray(this.props.children);\n        const currentIndex = Math.max(childrenAsArray.findIndex(child =>\n            this.state.value && this.state.value.props.value === child.props.value\n        ), 0);\n        const newIndex = (currentIndex + childrenAsArray.length + increment) % childrenAsArray.length;\n\n        this.setState({\n            value: childrenAsArray[newIndex]\n        });\n    }\n\n    handleBodyClick(eventData) {\n        const { target } = eventData;\n        let node = target;\n\n        while (node !== document.body && node !== ReactDom.findDOMNode(this)) {\n            node = node.parentNode;\n        }\n\n        if (node === document.body) {\n            this.setState({ open: false });\n        }\n    }\n\n    render() {\n        return DropdownView(\n            Object.assign(\n                {},\n                this.props,\n                this.state,\n                this.actions\n            )\n        );\n    }\n}\n\n/**\n * View for Dropdown\n */\nfunction DropdownView(props) {\n    const classNames = ['alegrify-dropdown__container'];\n    const { value } = props;\n\n    if (typeof props.className === 'string' && props.className.trim() !== '') {\n        classNames.push(props.className);\n    }\n\n    if (props.disabled) {\n        classNames.push('alegrify-dropdown--disabled');\n    }\n\n    return (\n        <div\n            className={classNames.join(' ')}\n            onKeyDown={props.handleKeyDown}\n        >\n            <input\n                className=\"alegrify-dropdown__trigger\"\n                type=\"checkbox\"\n                id={props.id}\n                onChange={props.handleOpenDropdown}\n                checked={props.open}\n                disabled={props.disabled}\n            />\n            <label\n                className=\"alegrify-dropdown__label\"\n                htmlFor={props.id}\n                aria-controls=\"\"\n            >\n                {value ? value.props.children : props.placeholder || '...'}\n            </label>\n            <fieldset\n                className=\"alegrify-dropdown\"\n                role=\"menu\"\n            >\n                {renderChildren()}\n            </fieldset>\n        </div>\n    );\n\n    /**\n     * Render dropdown items\n     * (Can either be an array of children or React.children)\n     */\n    function renderChildren() {\n        if (!props.open) {\n            return null;\n        }\n\n        if (typeof props.children.map === 'function') {\n            return props.children.map(renderChild);\n        }\n        else {\n            return React.Children.map(props.children, renderChild);\n        }\n    }\n\n    /**\n     * Render single child\n     * @param {Node} child \n     * @param {String} index \n     */\n    function renderChild(child, index = 0) {\n        return React.cloneElement(child, {\n            onSelect: () => props.handleSelectOption(index),\n            multiSelect: props.multiSelect,\n            checked: props.value && props.value.props.value === child.props.value,\n            name: props.name,\n            key: index\n        });\n    }\n}\n\n// Todo: disabled\n\nDropdown.propTypes = {\n\n    /**\n     * Id of the dropdown\n     */\n    id: PropTypes.string.isRequired,\n\n    /**\n     * Name of the dropdown\n     */\n    name: PropTypes.string.isRequired,\n\n    /**\n     * Items for the dropdown\n     */\n    children: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.node),\n        PropTypes.node\n    ]).isRequired,\n\n    /**\n     * Additional classnames\n     */\n    className: PropTypes.string,\n\n    /**\n     * Selected value of the dropdown\n     */\n    value: PropTypes.string,\n\n    /**\n     * Placeholder message for dropdown label\n     */\n    placeholder: PropTypes.string,\n\n    /**\n     * Should the dropdown be disabled?\n     */\n    disabled: PropTypes.bool,\n\n    /**\n     * Gets triggered when value changes\n     * Passes value string as argument\n     */\n    onValueChange: PropTypes.func\n};\nDropdown.defaultProps = {\n    value: null,\n    placeholder: '...',\n    disabled: false,\n    multiSelect: false\n};\nDropdown.propExamples = Dropdown.defaultProps;\n\nexport default Dropdown;\n"]}]}